<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eve Perry">
<meta name="dcterms.date" content="2023-01-20">

<title>Statewide Survey Non-Response Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="non-response-analysis_files/libs/clipboard/clipboard.min.js"></script>
<script src="non-response-analysis_files/libs/quarto-html/quarto.js"></script>
<script src="non-response-analysis_files/libs/quarto-html/popper.min.js"></script>
<script src="non-response-analysis_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="non-response-analysis_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="non-response-analysis_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="non-response-analysis_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="non-response-analysis_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="non-response-analysis_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>

<script src="non-response-analysis_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="non-response-analysis_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Statewide Survey Non-Response Analysis</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Eve Perry </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 20, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#defining-responses-and-non-responses" id="toc-defining-responses-and-non-responses" class="nav-link active" data-scroll-target="#defining-responses-and-non-responses">Defining responses and non-responses</a></li>
  <li><a href="#non-response-rate" id="toc-non-response-rate" class="nav-link" data-scroll-target="#non-response-rate">Non-response rate</a>
  <ul class="collapse">
  <li><a href="#initial-calculation" id="toc-initial-calculation" class="nav-link" data-scroll-target="#initial-calculation">Initial calculation</a></li>
  <li><a href="#adjusting-the-non-responses-for-eligibility" id="toc-adjusting-the-non-responses-for-eligibility" class="nav-link" data-scroll-target="#adjusting-the-non-responses-for-eligibility">Adjusting the non-responses for eligibility</a>
  <ul class="collapse">
  <li><a href="#perceived-demographics-by-eligibility-determination-status" id="toc-perceived-demographics-by-eligibility-determination-status" class="nav-link" data-scroll-target="#perceived-demographics-by-eligibility-determination-status">Perceived demographics by eligibility determination status</a></li>
  </ul></li>
  <li><a href="#adjusted-non-response-rate" id="toc-adjusted-non-response-rate" class="nav-link" data-scroll-target="#adjusted-non-response-rate">Adjusted non-response rate</a></li>
  </ul></li>
  <li><a href="#non-response-by-perceived-demographics" id="toc-non-response-by-perceived-demographics" class="nav-link" data-scroll-target="#non-response-by-perceived-demographics">Non-response by perceived demographics</a>
  <ul class="collapse">
  <li><a href="#perceived-demographic-missingness" id="toc-perceived-demographic-missingness" class="nav-link" data-scroll-target="#perceived-demographic-missingness">Perceived demographic missingness</a></li>
  <li><a href="#perceived-age" id="toc-perceived-age" class="nav-link" data-scroll-target="#perceived-age">Perceived age</a></li>
  <li><a href="#perceived-disability" id="toc-perceived-disability" class="nav-link" data-scroll-target="#perceived-disability">Perceived disability</a></li>
  <li><a href="#perceived-gender" id="toc-perceived-gender" class="nav-link" data-scroll-target="#perceived-gender">Perceived gender</a></li>
  <li><a href="#perceived-intoxication" id="toc-perceived-intoxication" class="nav-link" data-scroll-target="#perceived-intoxication">Perceived intoxication</a></li>
  <li><a href="#perceived-race" id="toc-perceived-race" class="nav-link" data-scroll-target="#perceived-race">Perceived race</a></li>
  <li><a href="#site-category" id="toc-site-category" class="nav-link" data-scroll-target="#site-category">Site category</a></li>
  </ul></li>
  <li><a href="#perceived-demographics-reliability" id="toc-perceived-demographics-reliability" class="nav-link" data-scroll-target="#perceived-demographics-reliability">Perceived demographics reliability</a></li>
  <li><a href="#modeling-non-response" id="toc-modeling-non-response" class="nav-link" data-scroll-target="#modeling-non-response">Modeling non-response</a>
  <ul class="collapse">
  <li><a href="#adjusted-non-response-weights" id="toc-adjusted-non-response-weights" class="nav-link" data-scroll-target="#adjusted-non-response-weights">Adjusted non-response weights</a></li>
  <li><a href="#candidate-models" id="toc-candidate-models" class="nav-link" data-scroll-target="#candidate-models">Candidate models</a>
  <ul class="collapse">
  <li><a href="#individual-models" id="toc-individual-models" class="nav-link" data-scroll-target="#individual-models">Individual models</a></li>
  <li><a href="#ensemble-model" id="toc-ensemble-model" class="nav-link" data-scroll-target="#ensemble-model">Ensemble model</a></li>
  </ul></li>
  <li><a href="#selecting-a-model" id="toc-selecting-a-model" class="nav-link" data-scroll-target="#selecting-a-model">Selecting a model</a>
  <ul class="collapse">
  <li><a href="#area-under-the-receiver-operator-curve" id="toc-area-under-the-receiver-operator-curve" class="nav-link" data-scroll-target="#area-under-the-receiver-operator-curve">Area under the receiver operator curve</a></li>
  <li><a href="#predicted-probability-distribution" id="toc-predicted-probability-distribution" class="nav-link" data-scroll-target="#predicted-probability-distribution">Predicted probability distribution</a></li>
  <li><a href="#calibration-plot" id="toc-calibration-plot" class="nav-link" data-scroll-target="#calibration-plot">Calibration plot</a></li>
  </ul></li>
  <li><a href="#fitting-the-full-model" id="toc-fitting-the-full-model" class="nav-link" data-scroll-target="#fitting-the-full-model">Fitting the full model</a>
  <ul class="collapse">
  <li><a href="#model-summary" id="toc-model-summary" class="nav-link" data-scroll-target="#model-summary">Model summary</a></li>
  <li><a href="#final-roc-curve" id="toc-final-roc-curve" class="nav-link" data-scroll-target="#final-roc-curve">Final ROC curve</a></li>
  <li><a href="#final-calibration-plot" id="toc-final-calibration-plot" class="nav-link" data-scroll-target="#final-calibration-plot">Final calibration plot</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell">

</div>
<section id="defining-responses-and-non-responses" class="level1">
<h1>Defining responses and non-responses</h1>
<p>To determine the non-response rate, we must first define responses. We only consider those who finished the survey (<code>survey_count == 1</code>) as responses. Those who declined to talk to the interviewer, whose eligibility we could not determine (for language or other reasons), who did not consent to the full interview, or did not finish the survey are considered non-responses. We exclude those determined to be ineligible from the non-responses since they are, by definition, not in the survey frame.</p>
<p>Below is a chart that shows the participants’ progression through the interview process:</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>survey_path <span class="ot">=</span> <span class="fu">ifelse</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Sys.info</span>()[<span class="st">"sysname"</span>] <span class="sc">==</span> <span class="st">"Linux"</span>,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># wynton</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"/wynton/protected/home/kushel/eveperry/statewide-survey/processed-survey-data/statewide_survey_processed.rds"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># everywhere else</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Y:/Research/BHHI/statewide_survey_processed_data/latest/statewide_survey_processed.rds"</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>raw_surveys <span class="ot">=</span> <span class="fu">read_rds</span>(survey_path)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>prepare_survey_data <span class="ot">=</span> <span class="cf">function</span>(data) {</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  data <span class="sc">%&gt;%</span> </span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">is.na</span>(rds) <span class="sc">|</span> rds <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">county =</span> <span class="fu">fct_relevel</span>(</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_factor</span>(county),</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Sonoma"</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Placer"</span>,</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Santa Clara"</span>,</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Fresno/Madera"</span>,</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Butte"</span>,</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Los Angeles"</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>          <span class="st">"San Diego"</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>          <span class="st">"Sacramento"</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">language_issues =</span> eligible_yn <span class="sc">==</span> <span class="sc">-</span><span class="dv">4</span>,</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">declined =</span> eligible_yn <span class="sc">==</span> <span class="sc">-</span><span class="dv">3</span>,</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">could_not_determine_eligibility =</span> eligible_yn <span class="sc">==</span> <span class="sc">-</span><span class="dv">2</span>,</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">eligibility_determined =</span> eligible_yn <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">ineligible =</span> eligible_yn <span class="sc">%in%</span> <span class="sc">-</span><span class="dv">1</span><span class="sc">:</span><span class="dv">0</span>,</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">eligible =</span> eligible_yn <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">consented_at_start =</span> eligible_yn <span class="sc">%in%</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">did_not_consent =</span> eligible_yn <span class="sc">==</span> <span class="dv">3</span>,</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">did_not_finish =</span> consented_at_start <span class="sc">&amp;</span> survey_count <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">response =</span> survey_count <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">non_response =</span> <span class="sc">!</span>(ineligible <span class="sc">|</span> survey_count <span class="sc">==</span> <span class="dv">1</span>),</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>      <span class="do">## perceived demographics</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>      <span class="co"># age</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_age =</span> <span class="fu">fct_explicit_na</span>(<span class="fu">as_factor</span>(perceived_age), <span class="st">"Missing"</span>),</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>      <span class="co"># disability</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_disability =</span> <span class="fu">fct_explicit_na</span>(</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_factor</span>(perceived_disability), <span class="st">"Missing"</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_disability =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>        perceived_disability,</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Disabled"</span> <span class="ot">=</span> <span class="st">"Yes"</span>,</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Not Disabled"</span> <span class="ot">=</span> <span class="st">"No"</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>      <span class="co"># intoxication</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_intoxication =</span> <span class="fu">fct_explicit_na</span>(</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_factor</span>(perceived_intox), <span class="st">"Missing"</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_intoxication =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>        perceived_intoxication,</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Intoxicated"</span> <span class="ot">=</span> <span class="st">"Yes"</span>,</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Not Intoxicated"</span> <span class="ot">=</span> <span class="st">"No"</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>      <span class="co"># gender</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_gender =</span> <span class="fu">fct_explicit_na</span>(</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_factor</span>(perceived_gender), <span class="st">"Missing"</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_gender =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>        perceived_gender,</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Transgender"</span> <span class="ot">=</span> <span class="st">"Transgender, Genderqueer, Gender non-binary or Unclear"</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>      <span class="co"># race</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_race =</span> <span class="fu">fct_explicit_na</span>(</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>        <span class="fu">as_factor</span>(perceived_race_onecat), <span class="st">"Missing"</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>      <span class="at">perceived_race =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>        perceived_race,</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Asian/Pacific Islander"</span> <span class="ot">=</span> <span class="st">"Asian"</span>,</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Asian/Pacific Islander"</span> <span class="ot">=</span> <span class="st">"Pacific Islander, Samoan, Hawaiian"</span>,</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Black"</span> <span class="ot">=</span> <span class="st">"Black, African-American, African"</span>,</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>        <span class="st">"White"</span> <span class="ot">=</span> <span class="st">"White, Caucasian, European American"</span>,</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Latinx"</span> <span class="ot">=</span> <span class="st">"Latinx, Hispanic, Latin American"</span>,</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Native American"</span> <span class="ot">=</span> <span class="st">"Native American, Alaska Native"</span>,</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Multiracial"</span> <span class="ot">=</span> <span class="st">"Mixed/Multiracial"</span>,</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Other"</span> <span class="ot">=</span> <span class="st">"Different race or ethnic ID, or unclear"</span>,</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Missing"</span> <span class="ot">=</span> <span class="st">"FIX CODING ERROR"</span></span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>      <span class="fu">across</span>(</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(perceived_age, perceived_disability, perceived_gender, perceived_intoxication, perceived_race), fct_relevel, sort),</span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>      <span class="fu">across</span>(</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c</span>(perceived_age, perceived_disability, perceived_gender, perceived_intoxication, perceived_race), fct_relevel, <span class="st">"Missing"</span>, <span class="at">after =</span> <span class="cn">Inf</span>)</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>surveys <span class="ot">=</span> <span class="fu">prepare_survey_data</span>(raw_surveys)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
<section id="non-response-rate" class="level1">
<h1>Non-response rate</h1>
<div class="cell" data-fig.showtext="false">

</div>
<section id="initial-calculation" class="level2">
<h2 data-anchor-id="initial-calculation">Initial calculation</h2>
<p>The initial calculation of the non-response rate simply divides the non-responses by the sum of response and non-responses:</p>
<p><span class="math display">\[ Non\ Response\ Rate = \frac{Non\ Response}{Response + Non\ Response} \]</span> And shown by county below:</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>initial_non_response <span class="ot">=</span> surveys <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(county) <span class="sc">%&gt;%</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">approached =</span> <span class="fu">n</span>(),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(response, non_response), weighted_sum, initial_weight)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">initial_non_response =</span> non_response <span class="sc">/</span> (response <span class="sc">+</span> non_response)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> County </th>
   <th style="text-align:right;"> Approached </th>
   <th style="text-align:right;"> Non-Response </th>
   <th style="text-align:right;"> Response </th>
   <th style="text-align:right;"> Initial Non-Response Rate </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Sonoma </td>
   <td style="text-align:right;"> 344 </td>
   <td style="text-align:right;"> 302 </td>
   <td style="text-align:right;"> 550 </td>
   <td style="text-align:right;"> 0.354 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Placer </td>
   <td style="text-align:right;"> 224 </td>
   <td style="text-align:right;"> 69 </td>
   <td style="text-align:right;"> 328 </td>
   <td style="text-align:right;"> 0.175 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Santa Clara </td>
   <td style="text-align:right;"> 718 </td>
   <td style="text-align:right;"> 376 </td>
   <td style="text-align:right;"> 1143 </td>
   <td style="text-align:right;"> 0.247 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fresno/Madera </td>
   <td style="text-align:right;"> 276 </td>
   <td style="text-align:right;"> 118 </td>
   <td style="text-align:right;"> 656 </td>
   <td style="text-align:right;"> 0.153 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Butte </td>
   <td style="text-align:right;"> 260 </td>
   <td style="text-align:right;"> 104 </td>
   <td style="text-align:right;"> 484 </td>
   <td style="text-align:right;"> 0.177 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Los Angeles </td>
   <td style="text-align:right;"> 901 </td>
   <td style="text-align:right;"> 439 </td>
   <td style="text-align:right;"> 2213 </td>
   <td style="text-align:right;"> 0.166 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> San Diego </td>
   <td style="text-align:right;"> 574 </td>
   <td style="text-align:right;"> 279 </td>
   <td style="text-align:right;"> 1580 </td>
   <td style="text-align:right;"> 0.150 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sacramento </td>
   <td style="text-align:right;"> 593 </td>
   <td style="text-align:right;"> 162 </td>
   <td style="text-align:right;"> 1139 </td>
   <td style="text-align:right;"> 0.125 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 3890 </td>
   <td style="text-align:right;"> 1849 </td>
   <td style="text-align:right;"> 8092 </td>
   <td style="text-align:right;"> 0.186 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
<section id="adjusting-the-non-responses-for-eligibility" class="level2">
<h2 data-anchor-id="adjusting-the-non-responses-for-eligibility">Adjusting the non-responses for eligibility</h2>
<p>In the eligibility screening, we’ve found that a small number of respondents were ineligible. We want to adjust our non-response count for respondents who declined to participate in the eligibility screen and respondents for whom we could not determine eligibility.</p>
<p>Assuming that respondents for whom we could determine eligibility are not different than those for whom we could not determine eligibility (see <a href="#perceived-demographics-by-eligibility-determination-status">figures</a> below), some of the respondents without eligibility determination would have been determined to be ineligible. We also want to exclude these people from our non-response rate calculation.</p>
<p>To get the number of respondents without eligibility determination who would have been determined to be ineligible, we multiply the share of ineligible respondents among respondents with eligibility determinations by the number of of respondents without eligibility. We then subtract that from the non-response count to get the adjusted non-response count:</p>
<p><span class="math display">\[ Adjusted\ Non\ Response = Non\ Response - Eligiblity\ Not\ Determined * \frac{Ineligible}{Eligibility\ Determined} \]</span></p>
<p>Ultimately, the adjustment does not have a large effect as the adjustment is small in every county:</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>adjusted_non_response <span class="ot">=</span> surveys <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(county) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">approached =</span> <span class="fu">sum</span>(initial_weight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(non_response, eligibility_determined, ineligible), weighted_sum, initial_weight)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">eligibility_not_determined =</span> approached <span class="sc">-</span> eligibility_determined) <span class="sc">%&gt;%</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">adjusted_non_response =</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>      non_response <span class="sc">-</span> eligibility_not_determined <span class="sc">*</span> ineligible <span class="sc">/</span> eligibility_determined</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> County </th>
   <th style="text-align:right;"> Eligibility Not Determined </th>
   <th style="text-align:right;"> Ineligible </th>
   <th style="text-align:right;"> Eligibility Determined </th>
   <th style="text-align:right;"> Non-Response </th>
   <th style="text-align:right;"> Adjusted Non-Response </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Sonoma </td>
   <td style="text-align:right;"> 288 </td>
   <td style="text-align:right;"> 37 </td>
   <td style="text-align:right;"> 601 </td>
   <td style="text-align:right;"> 302 </td>
   <td style="text-align:right;"> 283.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Placer </td>
   <td style="text-align:right;"> 66 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 340 </td>
   <td style="text-align:right;"> 69 </td>
   <td style="text-align:right;"> 67.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Santa Clara </td>
   <td style="text-align:right;"> 352 </td>
   <td style="text-align:right;"> 79 </td>
   <td style="text-align:right;"> 1245 </td>
   <td style="text-align:right;"> 376 </td>
   <td style="text-align:right;"> 353.4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fresno/Madera </td>
   <td style="text-align:right;"> 104 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 679 </td>
   <td style="text-align:right;"> 118 </td>
   <td style="text-align:right;"> 116.8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Butte </td>
   <td style="text-align:right;"> 92 </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> 509 </td>
   <td style="text-align:right;"> 104 </td>
   <td style="text-align:right;"> 101.5 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Los Angeles </td>
   <td style="text-align:right;"> 396 </td>
   <td style="text-align:right;"> 46 </td>
   <td style="text-align:right;"> 2302 </td>
   <td style="text-align:right;"> 439 </td>
   <td style="text-align:right;"> 431.2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> San Diego </td>
   <td style="text-align:right;"> 247 </td>
   <td style="text-align:right;"> 28 </td>
   <td style="text-align:right;"> 1641 </td>
   <td style="text-align:right;"> 279 </td>
   <td style="text-align:right;"> 275.1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sacramento </td>
   <td style="text-align:right;"> 127 </td>
   <td style="text-align:right;"> 14 </td>
   <td style="text-align:right;"> 1189 </td>
   <td style="text-align:right;"> 162 </td>
   <td style="text-align:right;"> 160.6 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 1672 </td>
   <td style="text-align:right;"> 235 </td>
   <td style="text-align:right;"> 8504 </td>
   <td style="text-align:right;"> 1849 </td>
   <td style="text-align:right;"> 1803.1 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
<section id="perceived-demographics-by-eligibility-determination-status" class="level3">
<h3 data-anchor-id="perceived-demographics-by-eligibility-determination-status">Perceived demographics by eligibility determination status</h3>
<p>Respondents’ perceived demographics are similar for those with and without eligibility determinations. This provides assurance that the ineligibility rate among those with determinations can be used to impute the number of likely ineligibility for those without determinations.</p>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
</section>
<section id="adjusted-non-response-rate" class="level2">
<h2 data-anchor-id="adjusted-non-response-rate">Adjusted non-response rate</h2>
<p>The adjusted non-response rate is then the adjusted non-response count divided by the sum of the adjusted non-response count and the responses:</p>
<p><span class="math display">\[ Adjusted\ Non\ Response\ Rate = \frac{Adjusted\ Non\ Response}{Response + Adjusted\ Non\ Response} \]</span></p>
<p>The adjusted non-response rate is slightly lower than the unadjusted rate:</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>non_response_rate <span class="ot">=</span> surveys <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(county) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">approached =</span> <span class="fu">sum</span>(initial_weight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(response, non_response, ineligible, eligibility_determined),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      weighted_sum, initial_weight</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">eligibility_not_determined =</span> approached <span class="sc">-</span> eligibility_determined) <span class="sc">%&gt;%</span> </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">adjusted_non_response =</span> </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>      non_response <span class="sc">-</span> eligibility_not_determined <span class="sc">*</span> ineligible <span class="sc">/</span> eligibility_determined,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">unadjusted_non_response_rate =</span> </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>      non_response <span class="sc">/</span> (response <span class="sc">+</span> non_response),</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">adjusted_non_response_rate =</span> </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>      adjusted_non_response <span class="sc">/</span> (response <span class="sc">+</span> adjusted_non_response)</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="2"></th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">Adjusted</div></th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2"><div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">Unadjusted</div></th>
</tr>
  <tr>
   <th style="text-align:left;"> County </th>
   <th style="text-align:right;"> Response </th>
   <th style="text-align:right;"> Non-Response </th>
   <th style="text-align:right;"> Rate </th>
   <th style="text-align:right;"> Non-Response </th>
   <th style="text-align:right;"> Rate </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Sonoma </td>
   <td style="text-align:right;"> 550 </td>
   <td style="text-align:right;"> 283.8 </td>
   <td style="text-align:right;"> 0.340 </td>
   <td style="text-align:right;"> 302 </td>
   <td style="text-align:right;"> 0.354 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Placer </td>
   <td style="text-align:right;"> 328 </td>
   <td style="text-align:right;"> 67.8 </td>
   <td style="text-align:right;"> 0.171 </td>
   <td style="text-align:right;"> 69 </td>
   <td style="text-align:right;"> 0.175 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Santa Clara </td>
   <td style="text-align:right;"> 1143 </td>
   <td style="text-align:right;"> 353.4 </td>
   <td style="text-align:right;"> 0.236 </td>
   <td style="text-align:right;"> 376 </td>
   <td style="text-align:right;"> 0.247 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fresno/Madera </td>
   <td style="text-align:right;"> 656 </td>
   <td style="text-align:right;"> 116.8 </td>
   <td style="text-align:right;"> 0.151 </td>
   <td style="text-align:right;"> 118 </td>
   <td style="text-align:right;"> 0.153 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Butte </td>
   <td style="text-align:right;"> 484 </td>
   <td style="text-align:right;"> 101.5 </td>
   <td style="text-align:right;"> 0.173 </td>
   <td style="text-align:right;"> 104 </td>
   <td style="text-align:right;"> 0.177 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Los Angeles </td>
   <td style="text-align:right;"> 2213 </td>
   <td style="text-align:right;"> 431.2 </td>
   <td style="text-align:right;"> 0.163 </td>
   <td style="text-align:right;"> 439 </td>
   <td style="text-align:right;"> 0.166 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> San Diego </td>
   <td style="text-align:right;"> 1580 </td>
   <td style="text-align:right;"> 275.1 </td>
   <td style="text-align:right;"> 0.148 </td>
   <td style="text-align:right;"> 279 </td>
   <td style="text-align:right;"> 0.150 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sacramento </td>
   <td style="text-align:right;"> 1139 </td>
   <td style="text-align:right;"> 160.6 </td>
   <td style="text-align:right;"> 0.123 </td>
   <td style="text-align:right;"> 162 </td>
   <td style="text-align:right;"> 0.125 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 8092 </td>
   <td style="text-align:right;"> 1803.1 </td>
   <td style="text-align:right;"> 0.182 </td>
   <td style="text-align:right;"> 1849 </td>
   <td style="text-align:right;"> 0.186 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
<p>The non-response rate substantially declines with the order in which we visited the counties.</p>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
</section>
<section id="non-response-by-perceived-demographics" class="level1">
<h1>Non-response by perceived demographics</h1>
<section id="perceived-demographic-missingness" class="level2">
<h2 data-anchor-id="perceived-demographic-missingness">Perceived demographic missingness</h2>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>demo_missingness <span class="ot">=</span> surveys <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(county) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">approached =</span> <span class="fu">n</span>(),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">one_plus_missing =</span> <span class="fu">sum</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      perceived_age <span class="sc">==</span> <span class="st">"Missing"</span> <span class="sc">|</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>      perceived_disability <span class="sc">==</span> <span class="st">"Missing"</span> <span class="sc">|</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>      perceived_intoxication <span class="sc">==</span> <span class="st">"Missing"</span> <span class="sc">|</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      perceived_gender <span class="sc">==</span> <span class="st">"Missing"</span> <span class="sc">|</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>      perceived_race <span class="sc">==</span> <span class="st">"Missing"</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        perceived_age, perceived_disability,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        perceived_intoxication, perceived_gender, perceived_race</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">sum</span>(.x <span class="sc">==</span> <span class="st">"Missing"</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">adorn_totals</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>        one_plus_missing, perceived_age, perceived_disability,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>        perceived_intoxication, perceived_gender,  perceived_race</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> .x <span class="sc">/</span> approached</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Overall, the missingness in perceived demographics is low, at around 4%. Most counties show similarly low levels of missingness, with Placer as a notable exception (although still relatively low, at around 10%).</p>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> County </th>
   <th style="text-align:right;"> 1+ Missing </th>
   <th style="text-align:right;"> Age </th>
   <th style="text-align:right;"> Disability </th>
   <th style="text-align:right;"> Intoxication </th>
   <th style="text-align:right;"> Gender </th>
   <th style="text-align:right;"> Race </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Sonoma </td>
   <td style="text-align:right;"> 0.047 </td>
   <td style="text-align:right;"> 0.023 </td>
   <td style="text-align:right;"> 0.044 </td>
   <td style="text-align:right;"> 0.044 </td>
   <td style="text-align:right;"> 0.020 </td>
   <td style="text-align:right;"> 0.038 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Placer </td>
   <td style="text-align:right;"> 0.103 </td>
   <td style="text-align:right;"> 0.067 </td>
   <td style="text-align:right;"> 0.085 </td>
   <td style="text-align:right;"> 0.085 </td>
   <td style="text-align:right;"> 0.036 </td>
   <td style="text-align:right;"> 0.076 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Santa Clara </td>
   <td style="text-align:right;"> 0.047 </td>
   <td style="text-align:right;"> 0.033 </td>
   <td style="text-align:right;"> 0.032 </td>
   <td style="text-align:right;"> 0.033 </td>
   <td style="text-align:right;"> 0.021 </td>
   <td style="text-align:right;"> 0.029 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Fresno/Madera </td>
   <td style="text-align:right;"> 0.014 </td>
   <td style="text-align:right;"> 0.007 </td>
   <td style="text-align:right;"> 0.011 </td>
   <td style="text-align:right;"> 0.011 </td>
   <td style="text-align:right;"> 0.004 </td>
   <td style="text-align:right;"> 0.011 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Butte </td>
   <td style="text-align:right;"> 0.027 </td>
   <td style="text-align:right;"> 0.008 </td>
   <td style="text-align:right;"> 0.008 </td>
   <td style="text-align:right;"> 0.015 </td>
   <td style="text-align:right;"> 0.004 </td>
   <td style="text-align:right;"> 0.019 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Los Angeles </td>
   <td style="text-align:right;"> 0.038 </td>
   <td style="text-align:right;"> 0.019 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 0.016 </td>
   <td style="text-align:right;"> 0.024 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> San Diego </td>
   <td style="text-align:right;"> 0.037 </td>
   <td style="text-align:right;"> 0.026 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 0.021 </td>
   <td style="text-align:right;"> 0.019 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sacramento </td>
   <td style="text-align:right;"> 0.022 </td>
   <td style="text-align:right;"> 0.012 </td>
   <td style="text-align:right;"> 0.013 </td>
   <td style="text-align:right;"> 0.015 </td>
   <td style="text-align:right;"> 0.012 </td>
   <td style="text-align:right;"> 0.012 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 0.039 </td>
   <td style="text-align:right;"> 0.023 </td>
   <td style="text-align:right;"> 0.027 </td>
   <td style="text-align:right;"> 0.028 </td>
   <td style="text-align:right;"> 0.017 </td>
   <td style="text-align:right;"> 0.025 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Table is unweighted.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
<div class="cell" data-fig.showtext="false">

</div>
</section>
<section id="perceived-age" class="level2">
<h2 data-anchor-id="perceived-age">Perceived age</h2>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Age </th>
   <th style="text-align:right;"> N </th>
   <th style="text-align:right;"> Eligibility Determined </th>
   <th style="text-align:right;"> Ineligible </th>
   <th style="text-align:right;"> Non-Response </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 18-24  years old </td>
   <td style="text-align:right;"> 227 </td>
   <td style="text-align:right;"> 0.879 </td>
   <td style="text-align:right;"> 0.049 </td>
   <td style="text-align:right;"> 0.139 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25-54 years old </td>
   <td style="text-align:right;"> 2432 </td>
   <td style="text-align:right;"> 0.850 </td>
   <td style="text-align:right;"> 0.014 </td>
   <td style="text-align:right;"> 0.173 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 55+ years old </td>
   <td style="text-align:right;"> 1141 </td>
   <td style="text-align:right;"> 0.820 </td>
   <td style="text-align:right;"> 0.037 </td>
   <td style="text-align:right;"> 0.199 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Missing </td>
   <td style="text-align:right;"> 90 </td>
   <td style="text-align:right;"> 0.506 </td>
   <td style="text-align:right;"> 0.384 </td>
   <td style="text-align:right;"> 0.613 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 3890 </td>
   <td style="text-align:right;"> 0.836 </td>
   <td style="text-align:right;"> 0.028 </td>
   <td style="text-align:right;"> 0.186 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
<section id="perceived-disability" class="level2">
<h2 data-anchor-id="perceived-disability">Perceived disability</h2>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Disability </th>
   <th style="text-align:right;"> N </th>
   <th style="text-align:right;"> Eligibility Determined </th>
   <th style="text-align:right;"> Ineligible </th>
   <th style="text-align:right;"> Non-Response </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Disabled </td>
   <td style="text-align:right;"> 223 </td>
   <td style="text-align:right;"> 0.879 </td>
   <td style="text-align:right;"> 0.016 </td>
   <td style="text-align:right;"> 0.161 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Not Disabled </td>
   <td style="text-align:right;"> 3561 </td>
   <td style="text-align:right;"> 0.844 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 0.175 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Missing </td>
   <td style="text-align:right;"> 106 </td>
   <td style="text-align:right;"> 0.408 </td>
   <td style="text-align:right;"> 0.397 </td>
   <td style="text-align:right;"> 0.732 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 3890 </td>
   <td style="text-align:right;"> 0.836 </td>
   <td style="text-align:right;"> 0.028 </td>
   <td style="text-align:right;"> 0.186 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
<section id="perceived-gender" class="level2">
<h2 data-anchor-id="perceived-gender">Perceived gender</h2>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Gender </th>
   <th style="text-align:right;"> N </th>
   <th style="text-align:right;"> Eligibility Determined </th>
   <th style="text-align:right;"> Ineligible </th>
   <th style="text-align:right;"> Non-Response </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 1331 </td>
   <td style="text-align:right;"> 0.883 </td>
   <td style="text-align:right;"> 0.021 </td>
   <td style="text-align:right;"> 0.144 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 2467 </td>
   <td style="text-align:right;"> 0.816 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 0.203 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Transgender </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 0.937 </td>
   <td style="text-align:right;"> 0.011 </td>
   <td style="text-align:right;"> 0.064 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Missing </td>
   <td style="text-align:right;"> 65 </td>
   <td style="text-align:right;"> 0.690 </td>
   <td style="text-align:right;"> 0.358 </td>
   <td style="text-align:right;"> 0.412 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 3890 </td>
   <td style="text-align:right;"> 0.836 </td>
   <td style="text-align:right;"> 0.028 </td>
   <td style="text-align:right;"> 0.186 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
<section id="perceived-intoxication" class="level2">
<h2 data-anchor-id="perceived-intoxication">Perceived intoxication</h2>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Intoxication </th>
   <th style="text-align:right;"> N </th>
   <th style="text-align:right;"> Eligibility Determined </th>
   <th style="text-align:right;"> Ineligible </th>
   <th style="text-align:right;"> Non-Response </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Intoxicated </td>
   <td style="text-align:right;"> 28 </td>
   <td style="text-align:right;"> 0.340 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:right;"> 0.695 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Not Intoxicated </td>
   <td style="text-align:right;"> 3752 </td>
   <td style="text-align:right;"> 0.851 </td>
   <td style="text-align:right;"> 0.023 </td>
   <td style="text-align:right;"> 0.170 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Missing </td>
   <td style="text-align:right;"> 110 </td>
   <td style="text-align:right;"> 0.432 </td>
   <td style="text-align:right;"> 0.343 </td>
   <td style="text-align:right;"> 0.667 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 3890 </td>
   <td style="text-align:right;"> 0.836 </td>
   <td style="text-align:right;"> 0.028 </td>
   <td style="text-align:right;"> 0.186 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
<section id="perceived-race" class="level2">
<h2 data-anchor-id="perceived-race">Perceived race</h2>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Race </th>
   <th style="text-align:right;"> N </th>
   <th style="text-align:right;"> Eligibility Determined </th>
   <th style="text-align:right;"> Ineligible </th>
   <th style="text-align:right;"> Non-Response </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Asian/Pacific Islander </td>
   <td style="text-align:right;"> 88 </td>
   <td style="text-align:right;"> 0.689 </td>
   <td style="text-align:right;"> 0.021 </td>
   <td style="text-align:right;"> 0.326 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Black </td>
   <td style="text-align:right;"> 824 </td>
   <td style="text-align:right;"> 0.884 </td>
   <td style="text-align:right;"> 0.028 </td>
   <td style="text-align:right;"> 0.146 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Latinx </td>
   <td style="text-align:right;"> 954 </td>
   <td style="text-align:right;"> 0.841 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 0.184 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Multiracial </td>
   <td style="text-align:right;"> 184 </td>
   <td style="text-align:right;"> 0.806 </td>
   <td style="text-align:right;"> 0.019 </td>
   <td style="text-align:right;"> 0.204 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Native American </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> 1.000 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Other </td>
   <td style="text-align:right;"> 23 </td>
   <td style="text-align:right;"> 0.545 </td>
   <td style="text-align:right;"> 0.037 </td>
   <td style="text-align:right;"> 0.465 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> White </td>
   <td style="text-align:right;"> 1705 </td>
   <td style="text-align:right;"> 0.841 </td>
   <td style="text-align:right;"> 0.020 </td>
   <td style="text-align:right;"> 0.175 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Missing </td>
   <td style="text-align:right;"> 99 </td>
   <td style="text-align:right;"> 0.457 </td>
   <td style="text-align:right;"> 0.356 </td>
   <td style="text-align:right;"> 0.653 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 3890 </td>
   <td style="text-align:right;"> 0.836 </td>
   <td style="text-align:right;"> 0.028 </td>
   <td style="text-align:right;"> 0.186 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
<section id="site-category" class="level2">
<h2 data-anchor-id="site-category">Site category</h2>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Site category </th>
   <th style="text-align:right;"> N </th>
   <th style="text-align:right;"> Eligibility Determined </th>
   <th style="text-align:right;"> Ineligible </th>
   <th style="text-align:right;"> Non-Response </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;"> 0.867 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:right;"> 0.133 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Emergency Shelter </td>
   <td style="text-align:right;"> 1358 </td>
   <td style="text-align:right;"> 0.865 </td>
   <td style="text-align:right;"> 0.024 </td>
   <td style="text-align:right;"> 0.151 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Encampment </td>
   <td style="text-align:right;"> 2033 </td>
   <td style="text-align:right;"> 0.824 </td>
   <td style="text-align:right;"> 0.026 </td>
   <td style="text-align:right;"> 0.205 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Hotspot </td>
   <td style="text-align:right;"> 15 </td>
   <td style="text-align:right;"> 0.794 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:right;"> 0.206 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Non Shelter Venue </td>
   <td style="text-align:right;"> 468 </td>
   <td style="text-align:right;"> 0.803 </td>
   <td style="text-align:right;"> 0.039 </td>
   <td style="text-align:right;"> 0.214 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Total </td>
   <td style="text-align:right;"> 3890 </td>
   <td style="text-align:right;"> 0.836 </td>
   <td style="text-align:right;"> 0.028 </td>
   <td style="text-align:right;"> 0.186 </td>
  </tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%"><sup></sup> <div class="kbl-fn">Weighted with inverse venue &amp; individual selection probabilities.</div></td>
</tr>
</tfoot>
</table>

</div>
</div>
</section>
</section>
<section id="perceived-demographics-reliability" class="level1">
<h1>Perceived demographics reliability</h1>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
<section id="modeling-non-response" class="level1">
<h1>Modeling non-response</h1>
<section id="adjusted-non-response-weights" class="level2">
<h2 data-anchor-id="adjusted-non-response-weights">Adjusted non-response weights</h2>
<p>We adjust the weights of the respondents without an eligibility determination such that the weighted average non-resonse rate equals the adjusted non-response weight above. The weight adjustment is the unweighted rate of eligibility for the survey:</p>
<p><span class="math display">\[ Adjusted\ nonreponse\ weights_{eligibility\ not\ determined} = initial\_weight * \frac{\sum{eligible}}{\sum{eligibility\ determined}}\]</span></p>
<p>Then, we use these weights to predict non-response. The predictors in the model are county and the perceived demographics (age, disability, gender, intoxication, and race).</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>prepare_model_data <span class="ot">=</span> <span class="cf">function</span>(data) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  data <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">anrr_weight =</span> <span class="fu">if_else</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        eligibility_determined,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        initial_weight,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        initial_weight <span class="sc">*</span> (<span class="fu">sum</span>(eligible) <span class="sc">/</span> <span class="fu">sum</span>(eligibility_determined))</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">anrr_weight =</span> <span class="fu">importance_weights</span>(anrr_weight)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span>ineligible) <span class="sc">%&gt;%</span> </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>      anrr_weight, non_response, perceived_age, perceived_disability,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>      perceived_gender, perceived_intoxication, perceived_race, county,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>      site_category, record_id</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">across</span>(<span class="fu">where</span>(is.factor), fct_drop),</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">across</span>(<span class="fu">starts_with</span>(<span class="st">"perceived"</span>), fct_recode, <span class="at">NULL =</span> <span class="st">"Missing"</span>),</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">site_category =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>        site_category,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Encampment"</span> <span class="ot">=</span> <span class="st">"Hotspot"</span>,</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">NULL =</span> <span class="st">""</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">non_response =</span> <span class="fu">factor</span>(</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>        non_response,</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">levels =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Response"</span>, <span class="st">"Non-Response"</span>)</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(anrr_weight))</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>anrr_weights <span class="ot">=</span> <span class="fu">prepare_model_data</span>(surveys) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="candidate-models" class="level2">
<h2 data-anchor-id="candidate-models">Candidate models</h2>
<p>To predict non-response, we evaluate a set of individual models and an ensemble model that combines the individual models.</p>
<p>The only pre-processing step is to turn categorical variables into sets of dummy variables.</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>reference_levels <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">perceived_age =</span> <span class="st">"18-24  years old"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">perceived_disability =</span> <span class="st">"Not Disabled"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">perceived_gender =</span> <span class="st">"Male"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">perceived_intoxication =</span> <span class="st">"Not Intoxicated"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">perceived_race =</span> <span class="st">"White"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">county =</span> <span class="st">"Los Angeles"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">site_category =</span> <span class="st">"Emergency Shelter"</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>anrr_recipe <span class="ot">=</span> anrr_weights <span class="sc">%&gt;%</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">recipe</span>(non_response <span class="sc">~</span> .) <span class="sc">%&gt;%</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">update_role</span>(record_id, <span class="at">new_role =</span> <span class="st">"id variable"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_unknown</span>(<span class="fu">all_factor_predictors</span>(), <span class="at">new_level =</span> <span class="st">"Missing"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_relevel</span>(</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    perceived_age,</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">ref_level =</span> reference_levels[<span class="st">"perceived_age"</span>]</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_relevel</span>(</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    perceived_disability,</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">ref_level =</span> reference_levels[<span class="st">"perceived_disability"</span>]</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_relevel</span>(</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    perceived_gender,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">ref_level =</span> reference_levels[<span class="st">"perceived_gender"</span>]</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_relevel</span>(</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    perceived_intoxication,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">ref_level =</span> reference_levels[<span class="st">"perceived_intoxication"</span>]</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_relevel</span>(</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>    perceived_race,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">ref_level =</span> reference_levels[<span class="st">"perceived_race"</span>]</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_relevel</span>(</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    county,</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">ref_level =</span> reference_levels[<span class="st">"county"</span>]</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_relevel</span>(</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>    site_category,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">ref_level =</span> reference_levels[<span class="st">"site_category"</span>]</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">step_dummy</span>(<span class="fu">all_predictors</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>To allow for proper evaluation of our predictions, we first split the data into training (75% of the data) and test (25% of the data) sets.</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>anrr_split <span class="ot">=</span> <span class="fu">initial_split</span>(anrr_weights, <span class="at">strata =</span> non_response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>To select the parameters for the models, we evaluate a random grid with 25 combinations of parameters with 10-fold cross validation repeated 5 times.</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>anrr_folds <span class="ot">=</span> <span class="fu">vfold_cv</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">training</span>(anrr_split), <span class="at">v =</span> tuning_v_folds, <span class="at">repeats =</span> tuning_repeats</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="individual-models" class="level3">
<h3 data-anchor-id="individual-models">Individual models</h3>
<p>The 5 individual models are: logistic regression (base R), logistic regression with lasso (<code>glmnet</code> package), random forest (<code>ranger</code> package), neural net (<code>nnet</code> packages), and gradient boosted trees (<code>xgboost</code> package). We also evaluate a stacked ensemble of 5 models.</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>logit_glm_model <span class="ot">=</span> <span class="fu">logistic_reg</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"glm"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>logit_glmnet_model <span class="ot">=</span> <span class="fu">logistic_reg</span>(<span class="at">penalty =</span> <span class="fu">tune</span>(), <span class="at">mixture =</span> <span class="fu">tune</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"glmnet"</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>rf_model <span class="ot">=</span> <span class="fu">rand_forest</span>(<span class="at">mtry =</span> <span class="fu">tune</span>(), <span class="at">min_n =</span> <span class="fu">tune</span>(), <span class="at">trees =</span> <span class="dv">1000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"ranger"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>nn_model <span class="ot">=</span> <span class="fu">mlp</span>(<span class="at">hidden_units =</span> <span class="fu">tune</span>(), <span class="at">penalty =</span> <span class="fu">tune</span>(), <span class="at">epochs =</span> <span class="fu">tune</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"nnet"</span>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>xgboost_model <span class="ot">=</span> <span class="fu">boost_tree</span>(</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">trees =</span> <span class="fu">tune</span>(), <span class="at">min_n =</span> <span class="fu">tune</span>(), <span class="at">tree_depth =</span> <span class="fu">tune</span>(), <span class="at">learn_rate =</span> <span class="fu">tune</span>(), </span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">loss_reduction =</span> <span class="fu">tune</span>(), <span class="at">sample_size =</span> <span class="fu">tune</span>()</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_mode</span>(<span class="st">"classification"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_engine</span>(<span class="st">"xgboost"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>weight_models <span class="ot">=</span> <span class="fu">workflow_set</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">preproc =</span> <span class="fu">list</span>(<span class="at">basic =</span> anrr_recipe),</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">models =</span> <span class="fu">list</span>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">logit_glm =</span> logit_glm_model,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">logit_glmnet =</span> logit_glmnet_model,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">random_forest =</span> rf_model,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">xgboost =</span> xgboost_model</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">case_weights =</span> anrr_weight</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>no_weight_models <span class="ot">=</span> <span class="fu">workflow_set</span>(</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">preproc =</span> <span class="fu">list</span>(<span class="at">basic =</span> anrr_recipe),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">models =</span> <span class="fu">list</span>(</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">neural_net =</span> nn_model</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>tune_metrics <span class="ot">=</span> <span class="fu">metric_set</span>(</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  roc_auc, accuracy, mn_log_loss, pr_auc, average_precision, f_meas</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>race_ctrl <span class="ot">=</span> <span class="fu">control_race</span>(</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">save_pred =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">allow_par =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">parallel_over =</span> <span class="st">"everything"</span>,</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">save_workflow =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose_elim =</span> <span class="cn">TRUE</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>weight_results <span class="ot">=</span> weight_models <span class="sc">%&gt;%</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow_map</span>(</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">seed =</span> <span class="dv">510</span>,</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">fn =</span> <span class="st">"tune_race_anova"</span>,</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">resamples =</span> anrr_folds,</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid =</span> tuning_grid_size,</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> race_ctrl,</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">verbose =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">metrics =</span> tune_metrics</span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>no_weight_results <span class="ot">=</span> no_weight_models <span class="sc">%&gt;%</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">workflow_map</span>(</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">seed =</span> <span class="dv">510</span>,</span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">fn =</span> <span class="st">"tune_race_anova"</span>,</span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">resamples =</span> anrr_folds,</span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">grid =</span> tuning_grid_size,</span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> race_ctrl,</span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">verbose =</span> <span class="cn">TRUE</span>,</span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">metrics =</span> tune_metrics</span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>grid_results <span class="ot">=</span> <span class="fu">bind_rows</span>(weight_results, no_weight_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-fig.showtext="false">

</div>
</section>
<section id="ensemble-model" class="level3">
<h3 data-anchor-id="ensemble-model">Ensemble model</h3>
<p>We create the ensemble model by stacking the predicted probabilities from the individual models and then using those predicted probabilities to model non-response.</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>ensemble_stack <span class="ot">=</span> <span class="fu">stacks</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_candidates</span>(<span class="at">candidates =</span> grid_results) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  stacks<span class="sc">:::</span><span class="fu">process_data_stack</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>To evaluate the ensemble we reassemble the cross-validation folds, using the model predictions instead of the observed data.</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>ensemble_folds <span class="ot">=</span> anrr_folds <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tidy</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">chop</span>(Row) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Data, <span class="at">values_from =</span> Row) <span class="sc">%&gt;%</span> </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Analysis, Assessment) <span class="sc">%&gt;%</span> </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pmap</span>(</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">function</span>(Analysis, Assessment)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">analysis =</span> Analysis, <span class="at">assessment =</span> Assessment)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(make_splits, ensemble_stack) <span class="sc">%&gt;%</span> </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">manual_rset</span>(</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">map2_chr</span>(anrr_folds<span class="sc">$</span>id, anrr_folds<span class="sc">$</span>id2, paste, <span class="at">sep =</span> <span class="st">"_"</span>)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Then we fit LASSO logistic regressions with a set of candidate penalty terms</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>ensemble_penalty_candidates <span class="ot">=</span> <span class="dv">10</span><span class="sc">^</span><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">length =</span> <span class="dv">20</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>ensemble_wflow <span class="ot">=</span> <span class="fu">workflow</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_model</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">logistic_reg</span>(<span class="at">penalty =</span> <span class="fu">tune</span>(), <span class="at">mixture =</span> <span class="fu">tune</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">set_engine</span>(<span class="st">"glmnet"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">set_mode</span>(<span class="st">"classification"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_recipe</span>(</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">recipe</span>(</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      non_response <span class="sc">~</span> .,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> ensemble_stack</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>ensemble_results <span class="ot">=</span> <span class="fu">tune_grid</span>(</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  ensemble_wflow,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">resamples =</span> ensemble_folds,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">grid =</span> <span class="fu">expand_grid</span>(</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">penalty =</span> ensemble_penalty_candidates,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">mixture =</span> <span class="dv">1</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">metrics =</span> tune_metrics,</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">control_grid</span>(</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">save_pred =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">allow_par =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">parallel_over =</span> <span class="st">"everything"</span>,</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">save_workflow =</span> <span class="cn">TRUE</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>ensemble_set <span class="ot">=</span> <span class="fu">as_workflow_set</span>(<span class="at">ensemble =</span> ensemble_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-fig.showtext="false">

</div>
</section>
</section>
<section id="selecting-a-model" class="level2">
<h2 data-anchor-id="selecting-a-model">Selecting a model</h2>
<p>We selected the logistic regression because it is the simplest model and there are no other models with statistically significant performance increases.</p>
<section id="area-under-the-receiver-operator-curve" class="level3">
<h3 data-anchor-id="area-under-the-receiver-operator-curve">Area under the receiver operator curve</h3>
<p>While the ensemble and neural net have slightly higher AUC, the advantage over the logistic regression is not statistically significant.</p>
<div class="cell" data-fig.showtext="false">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>selection_metric <span class="ot">=</span> <span class="st">"roc_auc"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>best_ensemble_metrics <span class="ot">=</span> <span class="fu">rank_results</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  ensemble_set, <span class="at">rank_metric =</span> selection_metric, <span class="at">select_best =</span> <span class="cn">TRUE</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.metric <span class="sc">==</span> selection_metric) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model_label =</span> <span class="st">"ensemble"</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>best_metrics <span class="ot">=</span> <span class="fu">rank_results</span>(</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  grid_results, <span class="at">rank_metric =</span> selection_metric, <span class="at">select_best =</span> <span class="cn">TRUE</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.metric <span class="sc">==</span> selection_metric) <span class="sc">%&gt;%</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model_label =</span> <span class="fu">str_remove</span>(wflow_id, <span class="st">"basic_"</span>))</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>best_metrics  <span class="sc">%&gt;%</span> </span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">bind_rows</span>(best_ensemble_metrics) <span class="sc">%&gt;%</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank =</span> <span class="fu">min_rank</span>(<span class="sc">-</span><span class="dv">1</span> <span class="sc">*</span> mean)) <span class="sc">%&gt;%</span> </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(rank) <span class="sc">%&gt;%</span> </span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> rank, <span class="at">y =</span> mean, <span class="at">color =</span> model_label)) <span class="sc">+</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">ymin =</span> mean <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> std_err,</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">ymax =</span> mean <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> std_err</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> scales<span class="sc">::</span><span class="fu">breaks_width</span>(<span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Area under the receiver operator curve"</span>,</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Rank"</span>,</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="cn">NULL</span></span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
<section id="predicted-probability-distribution" class="level3">
<h3 data-anchor-id="predicted-probability-distribution">Predicted probability distribution</h3>
<p>The logistic model has a similar probability distribution to the other models and shows no reason to be concerned about its performance.</p>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="1008"></p>
</div>
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-31-2.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
<section id="calibration-plot" class="level3">
<h3 data-anchor-id="calibration-plot">Calibration plot</h3>
<p>In the calibration plot, we split the predicted probabilities into 5 bins: 0-10%, 10-20%, 20-30%, 30-40%, &amp; 40%+. Then we take the average predicted probability of non-response in each bin and plot it against the actual non-response rate in each bin. The closer the model is to the 45 degree dashed line the better it performs.</p>
<p>The logistic regression closely matches the 45 degree line for the first 4 bins. Like the other models, its predictions for observations with the greatest probability of non-response are somewhat overstated.</p>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
</section>
<section id="fitting-the-full-model" class="level2">
<h2 data-anchor-id="fitting-the-full-model">Fitting the full model</h2>
<div class="cell" data-fig.showtext="false">

</div>
<section id="model-summary" class="level3">
<h3 data-anchor-id="model-summary">Model summary</h3>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">

<div id="xgmenwivgm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#xgmenwivgm) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#xgmenwivgm) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#xgmenwivgm) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#xgmenwivgm) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#xgmenwivgm) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#xgmenwivgm) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#xgmenwivgm) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#xgmenwivgm) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#xgmenwivgm) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#xgmenwivgm) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#xgmenwivgm) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#xgmenwivgm) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#xgmenwivgm) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#xgmenwivgm) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xgmenwivgm) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#xgmenwivgm) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#xgmenwivgm) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xgmenwivgm) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#xgmenwivgm) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xgmenwivgm) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#xgmenwivgm) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xgmenwivgm) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#xgmenwivgm) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xgmenwivgm) .gt_left {
  text-align: left;
}

:where(#xgmenwivgm) .gt_center {
  text-align: center;
}

:where(#xgmenwivgm) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#xgmenwivgm) .gt_font_normal {
  font-weight: normal;
}

:where(#xgmenwivgm) .gt_font_bold {
  font-weight: bold;
}

:where(#xgmenwivgm) .gt_font_italic {
  font-style: italic;
}

:where(#xgmenwivgm) .gt_super {
  font-size: 65%;
}

:where(#xgmenwivgm) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#xgmenwivgm) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#xgmenwivgm) .gt_indent_1 {
  text-indent: 5px;
}

:where(#xgmenwivgm) .gt_indent_2 {
  text-indent: 10px;
}

:where(#xgmenwivgm) .gt_indent_3 {
  text-indent: 15px;
}

:where(#xgmenwivgm) .gt_indent_4 {
  text-indent: 20px;
}

:where(#xgmenwivgm) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="Odds Ratio">Odds Ratio</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="Std. Error">Std. Error</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="Z-Statistic">Z-Statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="p-value">p-value</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="5" class="gt_group_heading" style="background-color: rgba(0,0,0,0);" scope="colgroup" id="<strong>Perceived Age</strong> <em>(Ref. level: 18-24  years old)</em>"><strong>Perceived Age</strong> <em>(Ref. level: 18-24  years old)</em></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="perceived-age-ref-level-18-24-years-old  term" class="gt_row gt_left">25-54 years old</td>
<td headers="perceived-age-ref-level-18-24-years-old  estimate" class="gt_row gt_right">1.68</td>
<td headers="perceived-age-ref-level-18-24-years-old  std.error" class="gt_row gt_right">0.16</td>
<td headers="perceived-age-ref-level-18-24-years-old  statistic" class="gt_row gt_right">3.26</td>
<td headers="perceived-age-ref-level-18-24-years-old  p.value" class="gt_row gt_right">0.001</td></tr>
    <tr><td headers="perceived-age-ref-level-18-24-years-old  term" class="gt_row gt_left">55+ years old</td>
<td headers="perceived-age-ref-level-18-24-years-old  estimate" class="gt_row gt_right">1.72</td>
<td headers="perceived-age-ref-level-18-24-years-old  std.error" class="gt_row gt_right">0.16</td>
<td headers="perceived-age-ref-level-18-24-years-old  statistic" class="gt_row gt_right">3.31</td>
<td headers="perceived-age-ref-level-18-24-years-old  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr><td headers="perceived-age-ref-level-18-24-years-old  term" class="gt_row gt_left">Missing</td>
<td headers="perceived-age-ref-level-18-24-years-old  estimate" class="gt_row gt_right">3.87</td>
<td headers="perceived-age-ref-level-18-24-years-old  std.error" class="gt_row gt_right">0.47</td>
<td headers="perceived-age-ref-level-18-24-years-old  statistic" class="gt_row gt_right">2.90</td>
<td headers="perceived-age-ref-level-18-24-years-old  p.value" class="gt_row gt_right">0.004</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="5" class="gt_group_heading" style="background-color: rgba(0,0,0,0);" scope="colgroup" id="<strong>Perceived Disability</strong> <em>(Ref. level: Not Disabled)</em>"><strong>Perceived Disability</strong> <em>(Ref. level: Not Disabled)</em></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="perceived-disability-ref-level-not-disabled  term" class="gt_row gt_left">Disabled</td>
<td headers="perceived-disability-ref-level-not-disabled  estimate" class="gt_row gt_right">0.53</td>
<td headers="perceived-disability-ref-level-not-disabled  std.error" class="gt_row gt_right">0.17</td>
<td headers="perceived-disability-ref-level-not-disabled  statistic" class="gt_row gt_right">−3.77</td>
<td headers="perceived-disability-ref-level-not-disabled  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr><td headers="perceived-disability-ref-level-not-disabled  term" class="gt_row gt_left">Missing</td>
<td headers="perceived-disability-ref-level-not-disabled  estimate" class="gt_row gt_right">20.29</td>
<td headers="perceived-disability-ref-level-not-disabled  std.error" class="gt_row gt_right">0.52</td>
<td headers="perceived-disability-ref-level-not-disabled  statistic" class="gt_row gt_right">5.75</td>
<td headers="perceived-disability-ref-level-not-disabled  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="5" class="gt_group_heading" style="background-color: rgba(0,0,0,0);" scope="colgroup" id="<strong>Perceived Gender</strong> <em>(Ref. level: Male)</em>"><strong>Perceived Gender</strong> <em>(Ref. level: Male)</em></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="perceived-gender-ref-level-male  term" class="gt_row gt_left">Female</td>
<td headers="perceived-gender-ref-level-male  estimate" class="gt_row gt_right">0.66</td>
<td headers="perceived-gender-ref-level-male  std.error" class="gt_row gt_right">0.08</td>
<td headers="perceived-gender-ref-level-male  statistic" class="gt_row gt_right">−5.39</td>
<td headers="perceived-gender-ref-level-male  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr><td headers="perceived-gender-ref-level-male  term" class="gt_row gt_left">Transgender</td>
<td headers="perceived-gender-ref-level-male  estimate" class="gt_row gt_right">0.43</td>
<td headers="perceived-gender-ref-level-male  std.error" class="gt_row gt_right">0.53</td>
<td headers="perceived-gender-ref-level-male  statistic" class="gt_row gt_right">−1.60</td>
<td headers="perceived-gender-ref-level-male  p.value" class="gt_row gt_right">0.11</td></tr>
    <tr><td headers="perceived-gender-ref-level-male  term" class="gt_row gt_left">Missing</td>
<td headers="perceived-gender-ref-level-male  estimate" class="gt_row gt_right">0.03</td>
<td headers="perceived-gender-ref-level-male  std.error" class="gt_row gt_right">0.60</td>
<td headers="perceived-gender-ref-level-male  statistic" class="gt_row gt_right">−5.78</td>
<td headers="perceived-gender-ref-level-male  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="5" class="gt_group_heading" style="background-color: rgba(0,0,0,0);" scope="colgroup" id="<strong>Perceived Intoxication</strong> <em>(Ref. level: Not Intoxicated)</em>"><strong>Perceived Intoxication</strong> <em>(Ref. level: Not Intoxicated)</em></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="perceived-intoxication-ref-level-not-intoxicated  term" class="gt_row gt_left">Intoxicated</td>
<td headers="perceived-intoxication-ref-level-not-intoxicated  estimate" class="gt_row gt_right">27.93</td>
<td headers="perceived-intoxication-ref-level-not-intoxicated  std.error" class="gt_row gt_right">0.33</td>
<td headers="perceived-intoxication-ref-level-not-intoxicated  statistic" class="gt_row gt_right">10.02</td>
<td headers="perceived-intoxication-ref-level-not-intoxicated  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr><td headers="perceived-intoxication-ref-level-not-intoxicated  term" class="gt_row gt_left">Missing</td>
<td headers="perceived-intoxication-ref-level-not-intoxicated  estimate" class="gt_row gt_right">0.90</td>
<td headers="perceived-intoxication-ref-level-not-intoxicated  std.error" class="gt_row gt_right">0.51</td>
<td headers="perceived-intoxication-ref-level-not-intoxicated  statistic" class="gt_row gt_right">−0.20</td>
<td headers="perceived-intoxication-ref-level-not-intoxicated  p.value" class="gt_row gt_right">0.8</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="5" class="gt_group_heading" style="background-color: rgba(0,0,0,0);" scope="colgroup" id="<strong>Perceived Race</strong> <em>(Ref. level: White)</em>"><strong>Perceived Race</strong> <em>(Ref. level: White)</em></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="perceived-race-ref-level-white  term" class="gt_row gt_left">Asian/Pacific Islander</td>
<td headers="perceived-race-ref-level-white  estimate" class="gt_row gt_right">2.39</td>
<td headers="perceived-race-ref-level-white  std.error" class="gt_row gt_right">0.18</td>
<td headers="perceived-race-ref-level-white  statistic" class="gt_row gt_right">4.83</td>
<td headers="perceived-race-ref-level-white  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr><td headers="perceived-race-ref-level-white  term" class="gt_row gt_left">Black</td>
<td headers="perceived-race-ref-level-white  estimate" class="gt_row gt_right">0.88</td>
<td headers="perceived-race-ref-level-white  std.error" class="gt_row gt_right">0.09</td>
<td headers="perceived-race-ref-level-white  statistic" class="gt_row gt_right">−1.43</td>
<td headers="perceived-race-ref-level-white  p.value" class="gt_row gt_right">0.2</td></tr>
    <tr><td headers="perceived-race-ref-level-white  term" class="gt_row gt_left">Latinx</td>
<td headers="perceived-race-ref-level-white  estimate" class="gt_row gt_right">1.01</td>
<td headers="perceived-race-ref-level-white  std.error" class="gt_row gt_right">0.09</td>
<td headers="perceived-race-ref-level-white  statistic" class="gt_row gt_right">0.10</td>
<td headers="perceived-race-ref-level-white  p.value" class="gt_row gt_right">&gt;0.9</td></tr>
    <tr><td headers="perceived-race-ref-level-white  term" class="gt_row gt_left">Multiracial</td>
<td headers="perceived-race-ref-level-white  estimate" class="gt_row gt_right">0.91</td>
<td headers="perceived-race-ref-level-white  std.error" class="gt_row gt_right">0.16</td>
<td headers="perceived-race-ref-level-white  statistic" class="gt_row gt_right">−0.56</td>
<td headers="perceived-race-ref-level-white  p.value" class="gt_row gt_right">0.6</td></tr>
    <tr><td headers="perceived-race-ref-level-white  term" class="gt_row gt_left">Native American</td>
<td headers="perceived-race-ref-level-white  estimate" class="gt_row gt_right">0.00</td>
<td headers="perceived-race-ref-level-white  std.error" class="gt_row gt_right">208.45</td>
<td headers="perceived-race-ref-level-white  statistic" class="gt_row gt_right">−0.06</td>
<td headers="perceived-race-ref-level-white  p.value" class="gt_row gt_right">&gt;0.9</td></tr>
    <tr><td headers="perceived-race-ref-level-white  term" class="gt_row gt_left">Other</td>
<td headers="perceived-race-ref-level-white  estimate" class="gt_row gt_right">3.89</td>
<td headers="perceived-race-ref-level-white  std.error" class="gt_row gt_right">0.28</td>
<td headers="perceived-race-ref-level-white  statistic" class="gt_row gt_right">4.92</td>
<td headers="perceived-race-ref-level-white  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr><td headers="perceived-race-ref-level-white  term" class="gt_row gt_left">Missing</td>
<td headers="perceived-race-ref-level-white  estimate" class="gt_row gt_right">4.20</td>
<td headers="perceived-race-ref-level-white  std.error" class="gt_row gt_right">0.33</td>
<td headers="perceived-race-ref-level-white  statistic" class="gt_row gt_right">4.30</td>
<td headers="perceived-race-ref-level-white  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="5" class="gt_group_heading" style="background-color: rgba(0,0,0,0);" scope="colgroup" id="<strong>County</strong> <em>(Ref. level: Los Angeles)</em>"><strong>County</strong> <em>(Ref. level: Los Angeles)</em></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="county-ref-level-los-angeles  term" class="gt_row gt_left">Sonoma</td>
<td headers="county-ref-level-los-angeles  estimate" class="gt_row gt_right">3.17</td>
<td headers="county-ref-level-los-angeles  std.error" class="gt_row gt_right">0.11</td>
<td headers="county-ref-level-los-angeles  statistic" class="gt_row gt_right">10.35</td>
<td headers="county-ref-level-los-angeles  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr><td headers="county-ref-level-los-angeles  term" class="gt_row gt_left">Placer</td>
<td headers="county-ref-level-los-angeles  estimate" class="gt_row gt_right">0.56</td>
<td headers="county-ref-level-los-angeles  std.error" class="gt_row gt_right">0.21</td>
<td headers="county-ref-level-los-angeles  statistic" class="gt_row gt_right">−2.71</td>
<td headers="county-ref-level-los-angeles  p.value" class="gt_row gt_right">0.007</td></tr>
    <tr><td headers="county-ref-level-los-angeles  term" class="gt_row gt_left">Santa Clara</td>
<td headers="county-ref-level-los-angeles  estimate" class="gt_row gt_right">1.44</td>
<td headers="county-ref-level-los-angeles  std.error" class="gt_row gt_right">0.10</td>
<td headers="county-ref-level-los-angeles  statistic" class="gt_row gt_right">3.60</td>
<td headers="county-ref-level-los-angeles  p.value" class="gt_row gt_right">&lt;0.001</td></tr>
    <tr><td headers="county-ref-level-los-angeles  term" class="gt_row gt_left">Fresno/Madera</td>
<td headers="county-ref-level-los-angeles  estimate" class="gt_row gt_right">0.66</td>
<td headers="county-ref-level-los-angeles  std.error" class="gt_row gt_right">0.15</td>
<td headers="county-ref-level-los-angeles  statistic" class="gt_row gt_right">−2.70</td>
<td headers="county-ref-level-los-angeles  p.value" class="gt_row gt_right">0.007</td></tr>
    <tr><td headers="county-ref-level-los-angeles  term" class="gt_row gt_left">Butte</td>
<td headers="county-ref-level-los-angeles  estimate" class="gt_row gt_right">1.00</td>
<td headers="county-ref-level-los-angeles  std.error" class="gt_row gt_right">0.15</td>
<td headers="county-ref-level-los-angeles  statistic" class="gt_row gt_right">0.00</td>
<td headers="county-ref-level-los-angeles  p.value" class="gt_row gt_right">&gt;0.9</td></tr>
    <tr><td headers="county-ref-level-los-angeles  term" class="gt_row gt_left">San Diego</td>
<td headers="county-ref-level-los-angeles  estimate" class="gt_row gt_right">0.98</td>
<td headers="county-ref-level-los-angeles  std.error" class="gt_row gt_right">0.11</td>
<td headers="county-ref-level-los-angeles  statistic" class="gt_row gt_right">−0.17</td>
<td headers="county-ref-level-los-angeles  p.value" class="gt_row gt_right">0.9</td></tr>
    <tr><td headers="county-ref-level-los-angeles  term" class="gt_row gt_left">Sacramento</td>
<td headers="county-ref-level-los-angeles  estimate" class="gt_row gt_right">0.82</td>
<td headers="county-ref-level-los-angeles  std.error" class="gt_row gt_right">0.12</td>
<td headers="county-ref-level-los-angeles  statistic" class="gt_row gt_right">−1.63</td>
<td headers="county-ref-level-los-angeles  p.value" class="gt_row gt_right">0.10</td></tr>
    <tr><td headers="county-ref-level-los-angeles  term" class="gt_row gt_left">Missing</td>
<td headers="county-ref-level-los-angeles  estimate" class="gt_row gt_right">NA</td>
<td headers="county-ref-level-los-angeles  std.error" class="gt_row gt_right">NA</td>
<td headers="county-ref-level-los-angeles  statistic" class="gt_row gt_right">NA</td>
<td headers="county-ref-level-los-angeles  p.value" class="gt_row gt_right">NA</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="5" class="gt_group_heading" style="background-color: rgba(0,0,0,0);" scope="colgroup" id="<strong>Site Category</strong> <em>(Ref. level: Emergency Shelter)</em>"><strong>Site Category</strong> <em>(Ref. level: Emergency Shelter)</em></th>
    </tr>
    <tr class="gt_row_group_first"><td headers="site-category-ref-level-emergency-shelter  term" class="gt_row gt_left">Encampment</td>
<td headers="site-category-ref-level-emergency-shelter  estimate" class="gt_row gt_right">1.21</td>
<td headers="site-category-ref-level-emergency-shelter  std.error" class="gt_row gt_right">0.08</td>
<td headers="site-category-ref-level-emergency-shelter  statistic" class="gt_row gt_right">2.53</td>
<td headers="site-category-ref-level-emergency-shelter  p.value" class="gt_row gt_right">0.012</td></tr>
    <tr><td headers="site-category-ref-level-emergency-shelter  term" class="gt_row gt_left">Non Shelter Venue</td>
<td headers="site-category-ref-level-emergency-shelter  estimate" class="gt_row gt_right">1.17</td>
<td headers="site-category-ref-level-emergency-shelter  std.error" class="gt_row gt_right">0.10</td>
<td headers="site-category-ref-level-emergency-shelter  statistic" class="gt_row gt_right">1.66</td>
<td headers="site-category-ref-level-emergency-shelter  p.value" class="gt_row gt_right">0.10</td></tr>
    <tr><td headers="site-category-ref-level-emergency-shelter  term" class="gt_row gt_left">Missing</td>
<td headers="site-category-ref-level-emergency-shelter  estimate" class="gt_row gt_right">0.00</td>
<td headers="site-category-ref-level-emergency-shelter  std.error" class="gt_row gt_right">262.28</td>
<td headers="site-category-ref-level-emergency-shelter  statistic" class="gt_row gt_right">−0.05</td>
<td headers="site-category-ref-level-emergency-shelter  p.value" class="gt_row gt_right">&gt;0.9</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="final-roc-curve" class="level3">
<h3 data-anchor-id="final-roc-curve">Final ROC curve</h3>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
</section>
<section id="final-calibration-plot" class="level3">
<h3 data-anchor-id="final-calibration-plot">Final calibration plot</h3>
<div class="cell" data-fig.showtext="false">
<div class="cell-output-display">
<p><img src="non-response-analysis_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="1008"></p>
</div>
</div>
<div class="cell" data-fig.showtext="false">

</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



<script src="non-response-analysis_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>